"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-05960a"],{80373:(t,e,n)=>{n.d(e,{u:()=>r});let i={"outside-top":["outside-bottom","outside-right","outside-left","outside-bottom"],"outside-bottom":["outside-top","outside-right","outside-left","outside-bottom"],"outside-left":["outside-right","outside-bottom","outside-top","outside-bottom"],"outside-right":["outside-left","outside-bottom","outside-top","outside-bottom"]},o={start:["end","center"],end:["start","center"],center:["end","start"]};function r(t,e,n={}){let r=function(t){if(function(t){var e;if("DIALOG"===t.tagName)return!0;try{if(t.matches(":popover-open")&&/native code/.test(null===(e=document.body.showPopover)||void 0===e?void 0:e.toString()))return!0}catch(t){}return!1}(t))return document.body;let e=t.parentNode;for(;null!==e;){if(e instanceof HTMLElement&&"static"!==getComputedStyle(e).position)return e;e=e.parentNode}return document.body}(t),d=function(t){let e=t;for(;null!==e&&e instanceof Element&&"visible"===getComputedStyle(e).overflow;)e=e.parentNode;let n=e!==document.body&&e instanceof HTMLElement?e:document.body,i=n.getBoundingClientRect(),o=getComputedStyle(n),[r,l,s,d]=[o.borderTopWidth,o.borderLeftWidth,o.borderRightWidth,o.borderBottomWidth].map(t=>parseInt(t,10)||0);return{top:i.top+r,left:i.left+l,width:i.width-s-l,height:Math.max(i.height-r-d,n===document.body?window.innerHeight:-1/0)}}(r),a=getComputedStyle(r),u=r.getBoundingClientRect(),[c,m]=[a.borderTopWidth,a.borderLeftWidth].map(t=>parseInt(t,10)||0);return function(t,e,n,r,{side:l,align:d,allowOutOfBounds:a,anchorOffset:u,alignmentOffset:c}){let m={top:t.top-e.top,left:t.left-e.left,width:t.width,height:t.height},f=s(n,r,l,d,u,c),h=l,p=d;if(f.top-=e.top,f.left-=e.left,!a){var w,g,b,E;let a=i[l],k=0;if(a){let t=l;for(;k<a.length&&(w=t,g=f,"outside-top"===w||"outside-bottom"===w?g.top<m.top||g.top+n.height>m.height+m.top:g.left<m.left||g.left+n.width>m.width+m.left);){let i=a[k++];t=i,f=s(n,r,i,d,u,c),f.top-=e.top,f.left-=e.left,h=i}}let v=o[d],x=0;if(v){let t=d;for(;x<v.length&&(b=t,E=f,"end"===b?E.left<m.left:"start"===b||"center"===b?E.left+n.width>m.left+m.width||E.left<m.left:void 0);){let i=v[x++];t=i,f=s(n,r,h,i,u,c),f.top-=e.top,f.left-=e.left,p=i}}f.top<m.top&&(f.top=m.top),f.left<m.left&&(f.left=m.left),f.left+n.width>t.width+m.left&&(f.left=t.width+m.left-n.width),a&&k<a.length&&f.top+n.height>t.height+m.top&&(f.top=Math.max(t.height+m.top-n.height,0))}return Object.assign(Object.assign({},f),{anchorSide:h,anchorAlign:p})}(d,{top:u.top+c,left:u.left+m},t.getBoundingClientRect(),e instanceof Element?e.getBoundingClientRect():e,function(t={}){var e,n,i,o,r;let s=null!==(e=t.side)&&void 0!==e?e:l.side,d=null!==(n=t.align)&&void 0!==n?n:l.align;return{side:s,align:d,anchorOffset:null!==(i=t.anchorOffset)&&void 0!==i?i:"inside-center"===s?0:l.anchorOffset,alignmentOffset:null!==(o=t.alignmentOffset)&&void 0!==o?o:"center"!==d&&s.startsWith("inside")?l.alignmentOffset:0,allowOutOfBounds:null!==(r=t.allowOutOfBounds)&&void 0!==r?r:l.allowOutOfBounds}}(n))}let l={side:"outside-bottom",align:"start",anchorOffset:4,alignmentOffset:4,allowOutOfBounds:!1};function s(t,e,n,i,o,r){let l=e.left+e.width,s=e.top+e.height,d=-1,a=-1;return"outside-top"===n?d=e.top-o-t.height:"outside-bottom"===n?d=s+o:"outside-left"===n?a=e.left-o-t.width:"outside-right"===n&&(a=l+o),("outside-top"===n||"outside-bottom"===n)&&(a="start"===i?e.left+r:"center"===i?e.left-(t.width-e.width)/2+r:l-t.width-r),("outside-left"===n||"outside-right"===n)&&(d="start"===i?e.top+r:"center"===i?e.top-(t.height-e.height)/2+r:s-t.height-r),"inside-top"===n?d=e.top+o:"inside-bottom"===n?d=s-o-t.height:"inside-left"===n?a=e.left+o:"inside-right"===n?a=l-o-t.width:"inside-center"===n&&(a=(l+e.left)/2-t.width/2+o),"inside-top"===n||"inside-bottom"===n?a="start"===i?e.left+r:"center"===i?e.left-(t.width-e.width)/2+r:l-t.width-r:("inside-left"===n||"inside-right"===n||"inside-center"===n)&&(d="start"===i?e.top+r:"center"===i?e.top-(t.height-e.height)/2+r:s-t.height-r),{top:d,left:a}}},91385:(t,e,n)=>{n.d(e,{Xq:()=>s,ai:()=>o,fN:()=>l,qA:()=>d});var i=-1/0,o=1/0;function r(t,e,n,o){for(var r=t.length,l=e.length,s=t.toLowerCase(),d=e.toLowerCase(),a=function(t){for(var e=t.length,n=Array(e),i="/",o=0;o<e;o++){var r,l=t[o];"/"===i?n[o]=.9:"-"===i||"_"===i||" "===i?n[o]=.8:"."===i?n[o]=.6:(r=i).toLowerCase()===r&&l.toUpperCase()===l?n[o]=.7:n[o]=0,i=l}return n}(e,a),u=0;u<r;u++){n[u]=Array(l),o[u]=Array(l);for(var c=i,m=u===r-1?-.005:-.01,f=0;f<l;f++)if(s[u]===d[f]){var h=i;u?f&&(h=Math.max(o[u-1][f-1]+a[f],n[u-1][f-1]+1)):h=-.005*f+a[f],n[u][f]=h,o[u][f]=c=Math.max(h,c+m)}else n[u][f]=i,o[u][f]=c+=m}}function l(t,e){var n=t.length,l=e.length;if(!n||!l)return i;if(n===l)return o;if(l>1024)return i;var s=Array(n),d=Array(n);return r(t,e,s,d),d[n-1][l-1]}function s(t,e){var n=t.length,o=e.length,l=Array(n);if(!n||!o)return l;if(n===o){for(var s=0;s<n;s++)l[s]=s;return l}if(o>1024)return l;var d=Array(n),a=Array(n);r(t,e,d,a);for(var u=!1,s=n-1,c=o-1;s>=0;s--)for(;c>=0;c--)if(d[s][c]!==i&&(u||d[s][c]===a[s][c])){u=s&&c&&a[s][c]===d[s-1][c-1]+1,l[s]=c--;break}return l}function d(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=t.length,i=0,o=0;i<n;i+=1)if(0===(o=e.indexOf(t[i],o)+1))return!1;return!0}},35908:(t,e,n)=>{n.d(e,{A:()=>Combobox});let Combobox=class Combobox{constructor(t,e,{tabInsertsSuggestions:n,firstOptionSelectionMode:i,scrollIntoViewOptions:r}={}){this.input=t,this.list=e,this.tabInsertsSuggestions=null==n||n,this.firstOptionSelectionMode=null!=i?i:"none",this.scrollIntoViewOptions=null!=r?r:{block:"nearest",inline:"nearest"},this.isComposing=!1,e.id||(e.id=`combobox-${Math.random().toString().slice(2,6)}`),this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=t=>(function(t,e){if(!t.shiftKey&&!t.metaKey&&!t.altKey&&(e.ctrlBindings||!t.ctrlKey)&&!e.isComposing)switch(t.key){case"Enter":o(e.input,e.list)&&t.preventDefault();break;case"Tab":e.tabInsertsSuggestions&&o(e.input,e.list)&&t.preventDefault();break;case"Escape":e.clearSelection();break;case"ArrowDown":e.navigate(1),t.preventDefault();break;case"ArrowUp":e.navigate(-1),t.preventDefault();break;case"n":e.ctrlBindings&&t.ctrlKey&&(e.navigate(1),t.preventDefault());break;case"p":e.ctrlBindings&&t.ctrlKey&&(e.navigate(-1),t.preventDefault());break;default:if(t.ctrlKey)break;e.resetSelection()}})(t,this),this.compositionEventHandler=t=>(function(t,e){e.isComposing="compositionstart"===t.type,document.getElementById(e.input.getAttribute("aria-controls")||"")&&e.clearSelection()})(t,this),this.inputHandler=this.clearSelection.bind(this),t.setAttribute("role","combobox"),t.setAttribute("aria-controls",e.id),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",i),this.resetSelection()}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",i)}indicateDefaultOption(){var t;"active"===this.firstOptionSelectionMode?null===(t=Array.from(this.list.querySelectorAll('[role="option"]:not([aria-disabled="true"])')).filter(r)[0])||void 0===t||t.setAttribute("data-combobox-option-default","true"):"selected"===this.firstOptionSelectionMode&&this.navigate(1)}navigate(t=1){let e=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(r)[0],n=Array.from(this.list.querySelectorAll('[role="option"]')).filter(r),i=n.indexOf(e);if(i===n.length-1&&1===t||0===i&&-1===t){this.clearSelection(),this.input.focus();return}let o=1===t?0:n.length-1;if(e&&i>=0){let e=i+t;e>=0&&e<n.length&&(o=e)}let l=n[o];if(l)for(let t of n)t.removeAttribute("data-combobox-option-default"),l===t?(this.input.setAttribute("aria-activedescendant",l.id),l.setAttribute("aria-selected","true"),function(t){t.dispatchEvent(new Event("combobox-select",{bubbles:!0}))}(l),l.scrollIntoView(this.scrollIntoViewOptions)):t.removeAttribute("aria-selected")}clearSelection(){for(let t of(this.input.removeAttribute("aria-activedescendant"),this.list.querySelectorAll('[aria-selected="true"], [data-combobox-option-default="true"]')))t.removeAttribute("aria-selected"),t.removeAttribute("data-combobox-option-default")}resetSelection(){this.clearSelection(),this.indicateDefaultOption()}};function i(t){if(!(t.target instanceof Element))return;let e=t.target.closest('[role="option"]');e&&"true"!==e.getAttribute("aria-disabled")&&function(t,e){t.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0,detail:e}))}(e,{event:t})}function o(t,e){let n=e.querySelector('[aria-selected="true"], [data-combobox-option-default="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||(n.click(),!0))}function r(t){return!t.hidden&&!(t instanceof HTMLInputElement&&"hidden"===t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}},78143:(t,e,n)=>{n.r(e),n.d(e,{default:()=>B});var i,o,r=function(t,e,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)};let l=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function s(t){let e=[];for(let n of t.querySelectorAll(l.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")!==t||e.push(n);return e}function d(t){return function(e){(" "===e.key||"Enter"===e.key)&&t(e)}}let a=new WeakMap,u={"header-1":{prefix:"# "},"header-2":{prefix:"## "},"header-3":{prefix:"### "},"header-4":{prefix:"#### "},"header-5":{prefix:"##### "},"header-6":{prefix:"###### "},bold:{prefix:"**",suffix:"**",trimFirst:!0},italic:{prefix:"_",suffix:"_",trimFirst:!0},quote:{prefix:"> ",multiline:!0,surroundWithNewlines:!0},code:{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"},link:{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},image:{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},"unordered-list":{prefix:"- ",multiline:!0,unorderedList:!0},"ordered-list":{prefix:"1. ",multiline:!0,orderedList:!0},"task-list":{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0},mention:{prefix:"@",prefixSpace:!0},ref:{prefix:"#",prefixSpace:!0},strikethrough:{prefix:"~~",suffix:"~~",trimFirst:!0}};let MarkdownButtonElement=class MarkdownButtonElement extends HTMLElement{constructor(){super();let t=t=>{let e=a.get(this);e&&(t.preventDefault(),M(this,e))};this.addEventListener("keydown",d(t)),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){let t=a.get(this);t&&M(this,t)}};let MarkdownHeaderButtonElement=class MarkdownHeaderButtonElement extends MarkdownButtonElement{constructor(){super(...arguments),i.add(this)}connectedCallback(){let t=parseInt(this.getAttribute("level")||"3",10);r(this,i,"m",o).call(this,t)}static get observedAttributes(){return["level"]}attributeChangedCallback(t,e,n){if("level"!==t)return;let l=parseInt(n||"3",10);r(this,i,"m",o).call(this,l)}};i=new WeakSet,o=function(t){if(t<1||t>6)return;let e=`${"#".repeat(t)} `;a.set(this,{prefix:e})},window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=MarkdownHeaderButtonElement,window.customElements.define("md-header",MarkdownHeaderButtonElement));let MarkdownBoldButtonElement=class MarkdownBoldButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=MarkdownBoldButtonElement,window.customElements.define("md-bold",MarkdownBoldButtonElement));let MarkdownItalicButtonElement=class MarkdownItalicButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=MarkdownItalicButtonElement,window.customElements.define("md-italic",MarkdownItalicButtonElement));let MarkdownQuoteButtonElement=class MarkdownQuoteButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=MarkdownQuoteButtonElement,window.customElements.define("md-quote",MarkdownQuoteButtonElement));let MarkdownCodeButtonElement=class MarkdownCodeButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=MarkdownCodeButtonElement,window.customElements.define("md-code",MarkdownCodeButtonElement));let MarkdownLinkButtonElement=class MarkdownLinkButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=MarkdownLinkButtonElement,window.customElements.define("md-link",MarkdownLinkButtonElement));let MarkdownImageButtonElement=class MarkdownImageButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=MarkdownImageButtonElement,window.customElements.define("md-image",MarkdownImageButtonElement));let MarkdownUnorderedListButtonElement=class MarkdownUnorderedListButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"- ",multiline:!0,unorderedList:!0})}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=MarkdownUnorderedListButtonElement,window.customElements.define("md-unordered-list",MarkdownUnorderedListButtonElement));let MarkdownOrderedListButtonElement=class MarkdownOrderedListButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=MarkdownOrderedListButtonElement,window.customElements.define("md-ordered-list",MarkdownOrderedListButtonElement));let MarkdownTaskListButtonElement=class MarkdownTaskListButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=MarkdownTaskListButtonElement,window.customElements.define("md-task-list",MarkdownTaskListButtonElement));let MarkdownMentionButtonElement=class MarkdownMentionButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=MarkdownMentionButtonElement,window.customElements.define("md-mention",MarkdownMentionButtonElement));let MarkdownRefButtonElement=class MarkdownRefButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=MarkdownRefButtonElement,window.customElements.define("md-ref",MarkdownRefButtonElement));let MarkdownStrikethroughButtonElement=class MarkdownStrikethroughButtonElement extends MarkdownButtonElement{connectedCallback(){a.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};function c(t){let{target:e,currentTarget:n}=t;if(!(e instanceof Element))return;let i=e.closest("[data-md-button]");if(!i||i.closest("markdown-toolbar")!==n)return;let o=u[i.getAttribute("data-md-button")];o&&(t.preventDefault(),M(e,o))}function m(t){t.addEventListener("keydown",p),t.setAttribute("tabindex","0"),t.addEventListener("focus",h,{once:!0})}function f(t){t.removeEventListener("keydown",p),t.removeAttribute("tabindex"),t.removeEventListener("focus",h)}window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=MarkdownStrikethroughButtonElement,window.customElements.define("md-strikethrough",MarkdownStrikethroughButtonElement));let MarkdownToolbarElement=class MarkdownToolbarElement extends HTMLElement{connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.hasAttribute("data-no-focus")||m(this),this.addEventListener("keydown",d(c)),this.addEventListener("click",c)}attributeChangedCallback(t,e,n){"data-no-focus"===t&&(null===n?m(this):f(this))}disconnectedCallback(){f(this)}get field(){let t;let e=this.getAttribute("for");if(!e)return null;let n="getRootNode"in this?this.getRootNode():document;return(n instanceof Document||n instanceof ShadowRoot)&&(t=n.getElementById(e)),t instanceof HTMLTextAreaElement?t:null}};function h({target:t}){if(!(t instanceof Element))return;t.removeAttribute("tabindex");let e="0";for(let n of s(t))n.setAttribute("tabindex",e),"0"===e&&(n.focus(),e="-1")}function p(t){let e=t.key;if("ArrowRight"!==e&&"ArrowLeft"!==e&&"Home"!==e&&"End"!==e)return;let n=t.currentTarget;if(!(n instanceof HTMLElement))return;let i=s(n),o=i.indexOf(t.target),r=i.length;if(-1===o)return;let l=0;"ArrowLeft"===e&&(l=o-1),"ArrowRight"===e&&(l=o+1),"End"===e&&(l=r-1),l<0&&(l=r-1),l>r-1&&(l=0);for(let t=0;t<r;t+=1)i[t].setAttribute("tabindex",t===l?"0":"-1");t.preventDefault(),i[l].focus()}function w(t){return t.trim().split("\n").length>1}function g(t,e){return Array(e+1).join(t)}MarkdownToolbarElement.observedAttributes=["data-no-focus"],window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=MarkdownToolbarElement,window.customElements.define("markdown-toolbar",MarkdownToolbarElement));let b=null;function E(t){let e,n;let i=t.value.slice(0,t.selectionStart),o=t.value.slice(t.selectionEnd),r=i.match(/\n*$/),l=o.match(/^\n*/),s=r?r[0].length:0,d=l?l[0].length:0;return i.match(/\S/)&&s<2&&(e=g("\n",2-s)),o.match(/\S/)&&d<2&&(n=g("\n",2-d)),null==e&&(e=""),null==n&&(n=""),{newlinesToAppend:e,newlinesToPrepend:n}}function k(t){let e=t.split("\n"),n=/^\d+\.\s+/,i=e.every(t=>n.test(t)),o=e;return i&&(o=e.map(t=>t.replace(n,""))),{text:o.join("\n"),processed:i}}function v(t){let e=t.split("\n"),n=e.every(t=>t.startsWith("- ")),i=e;return n&&(i=e.map(t=>t.slice(2,t.length))),{text:i.join("\n"),processed:n}}function x(t,e){return e?"- ":`${t+1}. `}function M(t,e){let n=t.closest("markdown-toolbar");if(!(n instanceof MarkdownToolbarElement))return;let i=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,unorderedList:!1,trimFirst:!1}),e),o=n.field;o&&(o.focus(),function(t,e){let n;let i=t.value.slice(t.selectionStart,t.selectionEnd);n=e.orderedList||e.unorderedList?function(t,e){let n,i,o;let r=t.selectionStart===t.selectionEnd,l=t.selectionStart,s=t.selectionEnd;!function(t){let e=t.value.split("\n"),n=0;for(let i=0;i<e.length;i++){let o=e[i].length+1;t.selectionStart>=n&&t.selectionStart<n+o&&(t.selectionStart=n),t.selectionEnd>=n&&t.selectionEnd<n+o&&(t.selectionEnd=n+o-1),n+=o}}(t);let d=t.value.slice(t.selectionStart,t.selectionEnd),[a,u,c]=(o=e.orderedList?(n=v((i=k(d)).text)).text:(n=k((i=v(d)).text)).text,[i,n,o]),m=c.split("\n").map((t,n)=>`${x(n,e.unorderedList)}${t}`),f=m.reduce((t,n,i)=>t+x(i,e.unorderedList).length,0),h=m.reduce((t,n,i)=>t+x(i,!e.unorderedList).length,0);if(a.processed)return r?s=l=Math.max(l-x(0,e.unorderedList).length,0):(l=t.selectionStart,s=t.selectionEnd-f),{text:c,selectionStart:l,selectionEnd:s};let{newlinesToAppend:p,newlinesToPrepend:w}=E(t),g=p+m.join("\n")+w;return r?s=l=Math.max(l+x(0,e.unorderedList).length+p.length,0):u.processed?(l=Math.max(t.selectionStart+p.length,0),s=t.selectionEnd+p.length+f-h):(l=Math.max(t.selectionStart+p.length,0),s=t.selectionEnd+p.length+f),{text:g,selectionStart:l,selectionEnd:s}}(t,e):e.multiline&&w(i)?function(t,e){let{prefix:n,suffix:i,surroundWithNewlines:o}=e,r=t.value.slice(t.selectionStart,t.selectionEnd),l=t.selectionStart,s=t.selectionEnd,d=r.split("\n");if(d.every(t=>t.startsWith(n)&&t.endsWith(i)))s=l+(r=d.map(t=>t.slice(n.length,t.length-i.length)).join("\n")).length;else if(r=d.map(t=>n+t+i).join("\n"),o){let{newlinesToAppend:e,newlinesToPrepend:n}=E(t);l+=e.length,s=l+r.length,r=e+r+n}return{text:r,selectionStart:l,selectionEnd:s}}(t,e):function(t,e){let n,i;let{prefix:o,suffix:r,blockPrefix:l,blockSuffix:s,replaceNext:d,prefixSpace:a,scanFor:u,surroundWithNewlines:c}=e,m=t.selectionStart,f=t.selectionEnd,h=t.value.slice(t.selectionStart,t.selectionEnd),p=w(h)&&l.length>0?`${l}
`:o,g=w(h)&&s.length>0?`
${s}`:r;if(a){let e=t.value[t.selectionStart-1];0===t.selectionStart||null==e||e.match(/\s/)||(p=` ${p}`)}h=function(t,e,n,i=!1){if(t.selectionStart===t.selectionEnd)t.selectionStart=function(t,e){let n=e;for(;t[n]&&null!=t[n-1]&&!t[n-1].match(/\s/);)n--;return n}(t.value,t.selectionStart),t.selectionEnd=function(t,e,n){let i=e,o=n?/\n/:/\s/;for(;t[i]&&!t[i].match(o);)i++;return i}(t.value,t.selectionEnd,i);else{let i=t.selectionStart-e.length,o=t.selectionEnd+n.length,r=t.value.slice(i,t.selectionStart)===e,l=t.value.slice(t.selectionEnd,o)===n;r&&l&&(t.selectionStart=i,t.selectionEnd=o)}return t.value.slice(t.selectionStart,t.selectionEnd)}(t,p,g,e.multiline);let b=t.selectionStart,k=t.selectionEnd,v=d.length>0&&g.indexOf(d)>-1&&h.length>0;if(c){let e=E(t);n=e.newlinesToAppend,i=e.newlinesToPrepend,p=n+o,g+=i}if(h.startsWith(p)&&h.endsWith(g)){let t=h.slice(p.length,h.length-g.length);if(m===f){let e=m-p.length;b=k=e=Math.min(e=Math.max(e,b),b+t.length)}else k=b+t.length;return{text:t,selectionStart:b,selectionEnd:k}}if(v){if(u.length>0&&h.match(u))return{text:p+(g=g.replace(d,h)),selectionStart:b=k=b+p.length,selectionEnd:k};{let t=p+h+g;return k=(b=b+p.length+h.length+g.indexOf(d))+d.length,{text:t,selectionStart:b,selectionEnd:k}}}{let t=p+h+g;b=m+p.length,k=f+p.length;let n=h.match(/^\s*|\s*$/g);if(e.trimFirst&&n){let e=n[0]||"",i=n[1]||"";t=e+p+h.trim()+g+i,b+=e.length,k-=i.length}return{text:t,selectionStart:b,selectionEnd:k}}}(t,e),function(t,{text:e,selectionStart:n,selectionEnd:i}){let o=t.selectionStart,r=t.value.slice(0,o),l=t.value.slice(t.selectionEnd);if(null===b||!0===b){t.contentEditable="true";try{b=document.execCommand("insertText",!1,e)}catch(t){b=!1}t.contentEditable="false"}if(b&&!t.value.slice(0,t.selectionStart).endsWith(e)&&(b=!1),!b){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=r+e+l;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=n&&null!=i?t.setSelectionRange(n,i):t.setSelectionRange(o,t.selectionEnd)}(t,n)}(o,i))}let B=MarkdownToolbarElement}}]);
//# sourceMappingURL=vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-05960a-390eda0514f2.js.map